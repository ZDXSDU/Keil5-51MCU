C51 COMPILER V9.60.7.0   AT24C02                                                           08/19/2023 15:56:51 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE AT24C02
OBJECT MODULE PLACED IN .\Objects\AT24C02.obj
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE AT24C02.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\A
                    -T24C02.lst) OBJECT(.\Objects\AT24C02.obj)

line level    source

   1          /**
   2           * @Author: ZDXSDU [ZDXSDU@qq.com]
   3           * @Date: Aug. 19, 2023 14:49:25
   4           * @LastEditors: ZDXSDU [ZDXSDU@qq.com]
   5           * @LastEditTime: 
   6           * @FilePath: ./AT24C02.c
   7           * @Description: å®šä¹‰AT24C02çš„ä¸¤ä¸ªæ•°æ®å¸§
   8           */
   9          #include <REGX52.H>
  10          #include "I2C.h"
  11          #define AT24C02_SLAVE_ADDRESS_W 0xA0 // å®šä¹‰AT24C02çš„å†™åœ°å€
  12          #define AT24C02_SLAVE_ADDRESS_R 0xA1 // å®šä¹‰AT24C02çš„è¯»åœ°å€
  13          /**
  14          * @brief AT24C02æ•°æ®å¸§-å­—èŠ‚å†™
  15          * @param  WordAddress å†™å…¥çš„åœ°å€ï¼ŒData å†™å…¥çš„æ•°æ®
  16          * @retval æ— 
  17          * @interpretation  åœ¨WordAddresså¤„å†™å…¥Dataæ•°æ®
  18          */
  19          void AT24C01_WriteByte(unsigned char WordAddress, Data)
  20          {
  21   1              // æ­£å¸¸æƒ…å†µä¸‹å®šä¹‰ä¸€ä¸ªå˜é‡ç”¨æ¥æ¥æ”¶AT24C02çš„åº”ç­”ï¼Œä»è€Œåˆ¤æ–­å…¶æ˜¯å¦æ”¶åˆ°äº†ä¸»æœºå
             -‘é€çš„æ•°æ®
  22   1              I2C_Start(); // èµ·å§‹æ¡ä»¶
  23   1              I2C_SendByte(AT24C02_SLAVE_ADDRESS_W); // å‘é€åœ°å€å’Œå†™æŒ‡ä»¤
  24   1              I2C_ReceiveAck(); // æ¥æ”¶AT24C02çš„åº”ç­”
  25   1              I2C_SendByte(WordAddress); // å‘AT24C02å‘é€æ•°æ®-å†™å…¥çš„åœ°å€
  26   1              I2C_ReceiveAck(); // æ¥æ”¶AT24C02çš„åº”ç­”
  27   1              I2C_SendByte(Data); // å‘AT24C02å‘é€æ•°æ®-å†™å…¥çš„æ•°æ®
  28   1              I2C_ReceiveAck(); // æ¥æ”¶AT24C02çš„åº”ç­”
  29   1              I2C_Stop(); // ç»ˆæ­¢æ¡ä»¶
  30   1      }
  31          /**
  32          * @brief AT24C02æ•°æ®å¸§-éšæœºè¯»
  33          * @param  unsigned char WordAddress è¦è¯»å–çš„åœ°å€
  34          * @retval æ— 
  35          * @interpretation  åœ¨WordAddresså¤„å†™å…¥Dataæ•°æ®
  36          */
  37          unsigned char AT24C02_ReadByte(unsigned char WordAddress)
  38          {
  39   1              unsigned char Data;
  40   1              I2C_Start(); // èµ·å§‹æ¡ä»¶
  41   1              I2C_SendByte(AT24C02_SLAVE_ADDRESS_W); // å‘é€åœ°å€å’Œå†™æŒ‡ä»¤
  42   1              I2C_ReceiveAck(); // æ¥æ”¶AT24C02çš„åº”ç­”
  43   1              I2C_SendByte(WordAddress); // å‘AT24C02å‘é€æ•°æ®-è¦è¯»å–çš„åœ°å€
  44   1              I2C_ReceiveAck(); // æ¥æ”¶AT24C02çš„åº”ç­”
  45   1              I2C_Start(); // èµ·å§‹æ¡ä»¶
  46   1              I2C_SendByte(AT24C02_SLAVE_ADDRESS_R); // å‘é€åœ°å€å’Œè¯»æŒ‡ä»¤
  47   1              I2C_ReceiveAck(); // æ¥æ”¶AT24C02çš„åº”ç­”
  48   1              Data = I2C_ReceiveByte(); // æ¥æ”¶AT24C02è¿”å›çš„æ•°æ®
  49   1              I2C_SendAck(1); // å‘AT24C02å‘é€æ•°æ®åº”ç­”
  50   1              I2C_Stop(); //ç»ˆæ­¢æ¡ä»¶
  51   1              return Data;
  52   1      }

C51 COMPILER V9.60.7.0   AT24C02                                                           08/19/2023 15:56:51 PAGE 2   


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     84    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       5
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
